{% block heidelpay_frame_paypal_account %}
    {% if page.extensions.heidelpayPayPal.displayPayPalAccountSelection %}
        <div class="heidelpay-paypal-account-wrapper"
             data-heidelpay-paypal="true"
             data-heidelpay-paypal-options='{
                "hasSavedAccounts": {% if page.extensions.heidelpayPayPal.payPalAccounts|length > 0 %}true{% else %}false{% endif %}
             }'>
            <div class="heidelpay-saved-cards-wrapper">
                {% if page.extensions.heidelpayPayPal.payPalAccounts|length > 0 %}
                    {% block heidelpay_frame_paypal_account_saved_device %}
                        {# @var payPalAccount \HeidelPayment6\DataAbstractionLayer\Entity\PaymentDevice\HeidelpayPaymentDeviceEntity #}
                        {% for payPalAccount in page.extensions.heidelpayPayPal.payPalAccounts %}
                            <div class="custom-control custom-radio payment-control">
                                <input type="radio" value="{{ payPalAccount.typeId }}" name="savedPayPalAccount"
                                       id="card-{{ payPalAccount.id }}"
                                       class="custom-control-input payment-method-input"{% if loop.first %} checked="checked"{% endif %}>
                                <label for="card-{{ payPalAccount.id }}"
                                       class="custom-control-label payment-method-label">
                                    <strong>{{ payPalAccount.data['email'] }}</strong>
                                </label>
                            </div>
                        {% endfor %}
                    {% endblock %}

                {% endif %}
                {% block heidelpay_frame_paypal_account_saved_device_new %}
                    <div class="custom-control custom-radio payment-control">
                        <input type="radio" value="new" name="savedPayPalAccount" id="card-new"
                               class="custom-control-input payment-method-input"
                                {% if page.extensions.heidelpayPayPal.payPalAccounts|length <= 0 %} checked="checked"{% endif %}>
                        <label for="card-new" class="custom-control-label payment-method-label">
                            {{ "HeidelPayment.frame.paypalAccount.new"|trans }}
                        </label>
                    </div>
                {% endblock %}
            </div>
        </div>
    {% endif %}
{% endblock %}
